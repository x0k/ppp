---
import { type CollectionEntry } from 'astro:content'

import { Page } from '@/shared';
import type { ProblemCategory } from '@/shared/problems';
import Layout from '@/layouts/landing.astro'
import Navigation from '@/containers/navigation.astro'
import { type Lang, getProblemCategoryLabel, useTranslations } from '@/i18n';

import ProblemsList from './_problems-list.astro';

export interface Props {
  category: ProblemCategory
  problems: CollectionEntry<'problems'>[]
}

const { category, problems } = Astro.props

const lang = Astro.currentLocale as Lang;
const t = useTranslations(lang);

---
<Layout title={t(getProblemCategoryLabel(category))}>
  <Navigation slot="nav" currentSection={Page.Problems} />
  <ProblemsList problems={problems} />
</Layout>
