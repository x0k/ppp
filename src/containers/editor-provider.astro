<script>
  import "monaco-editor";
  import EditorWorker from "monaco-editor/esm/vs/editor/editor.worker?worker";
  import TsWorker from "monaco-editor/esm/vs/language/typescript/ts.worker?worker";

  window.MonacoEnvironment = {
    getWorker(_, label) {
      switch (label) {
        case "editorWorkerService":
          return new EditorWorker();
        case "typescript":
          return new TsWorker();
        default:
          throw new Error(`Unknown label ${label}`);
      }
    },
  };
</script>

<slot />